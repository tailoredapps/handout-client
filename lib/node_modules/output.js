"use strict"

import chalk from 'chalk'

export const LEVEL_OK = 'ok'
export const LEVEL_INFO = 'info'
export const LEVEL_ERROR = 'error'

const colors = new Map([
    [LEVEL_ERROR, chalk.red],
    [LEVEL_INFO, chalk.white],
    [LEVEL_OK, chalk.green]
])

export default function output(data) {
    let level, message

    if (typeof data === 'string') {
        level = LEVEL_INFO
        message = data
    }
    else {
        level = data.error ? LEVEL_ERROR : data.level
        message = data.message
    }

    console.log(`[${colors.get(level)(level)}] ${message}`)
}
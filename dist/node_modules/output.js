'use strict';

var _outputStyles;

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.outputStyles = exports.LEVEL_DEBUG = exports.LEVEL_RAW = exports.LEVEL_ERROR = exports.LEVEL_INFO = exports.LEVEL_OK = undefined;
exports.default = output;
exports.outputTitle = outputTitle;

var _chalk = require('chalk');

var _chalk2 = _interopRequireDefault(_chalk);

var _stripAnsi = require('strip-ansi');

var _stripAnsi2 = _interopRequireDefault(_stripAnsi);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var LEVEL_OK = exports.LEVEL_OK = 'ok';
var LEVEL_INFO = exports.LEVEL_INFO = 'info';
var LEVEL_ERROR = exports.LEVEL_ERROR = 'error';
var LEVEL_RAW = exports.LEVEL_RAW = 'raw';
var LEVEL_DEBUG = exports.LEVEL_DEBUG = 'debug';

var outputStyles = exports.outputStyles = (_outputStyles = {
  headline: _chalk2.default.bold.yellow,
  url: _chalk2.default.yellow,
  target: _chalk2.default.cyan,
  error: _chalk2.default.bold.red,
  username: _chalk2.default.yellow,
  app: _chalk2.default.yellow,
  usage: _chalk2.default.bold.yellow,
  cliArg: _chalk2.default.cyan
}, _defineProperty(_outputStyles, LEVEL_ERROR, _chalk2.default.bold.red), _defineProperty(_outputStyles, LEVEL_INFO, _chalk2.default.bold.grey), _defineProperty(_outputStyles, LEVEL_OK, _chalk2.default.bold.green), _defineProperty(_outputStyles, LEVEL_DEBUG, _chalk2.default.bgYellow), _outputStyles);

function pad(str) {
  var max = arguments.length <= 1 || arguments[1] === undefined ? 15 : arguments[1];
  var char = arguments.length <= 2 || arguments[2] === undefined ? ' ' : arguments[2];

  var len = (0, _stripAnsi2.default)(str).length;

  return len < max ? str + new Array(max - len + 1).join(char) : str;
}

function output(message) {
  var level = arguments.length <= 1 || arguments[1] === undefined ? LEVEL_INFO : arguments[1];
  var fromRemote = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];

  var prepend = '';

  if (level !== LEVEL_RAW) {
    prepend += '[' + (fromRemote ? 'server' : 'local') + ':' + outputStyles[level](level) + ']';

    console.log(pad(prepend) + ' ' + message);
  } else {
    console.log(message);
  }
}

function outputTitle(_ref) {
  var version = _ref.version;
  // All of package.json passed in, using only version for now
  var hr = _chalk2.default.grey(new Array(80).join('-'));
  var newline = '';
  var o = function o(msg) {
    return output(msg, LEVEL_RAW);
  };

  o(newline);
  o(hr);
  o(outputStyles.headline('handout'));
  o(outputStyles.headline('tailored apps') + ' backend deployment tool v' + version);
  o(hr);
  o(newline);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ub2RlX21vZHVsZXMvb3V0cHV0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQTs7Ozs7Ozs7a0JBZ0NZLE1BQU07UUFZZCxXQUFXLEdBQVgsV0FBVzs7Ozs7Ozs7Ozs7Ozs7QUF2Q3BCLElBQU0sUUFBUSxXQUFSLFFBQVEsR0FBRyxJQUFJLENBQUE7QUFDckIsSUFBTSxVQUFVLFdBQVYsVUFBVSxHQUFHLE1BQU0sQ0FBQTtBQUN6QixJQUFNLFdBQVcsV0FBWCxXQUFXLEdBQUcsT0FBTyxDQUFBO0FBQzNCLElBQU0sU0FBUyxXQUFULFNBQVMsR0FBRyxLQUFLLENBQUE7QUFDdkIsSUFBTSxXQUFXLFdBQVgsV0FBVyxHQUFHLE9BQU8sQ0FBQTs7QUFFM0IsSUFBTSxZQUFZLFdBQVosWUFBWTtBQUN2QixVQUFRLEVBQUUsZ0JBQU0sSUFBSSxDQUFDLE1BQU07QUFDM0IsS0FBRyxFQUFFLGdCQUFNLE1BQU07QUFDakIsUUFBTSxFQUFFLGdCQUFNLElBQUk7QUFDbEIsT0FBSyxFQUFFLGdCQUFNLElBQUksQ0FBQyxHQUFHO0FBQ3JCLFVBQVEsRUFBRSxnQkFBTSxNQUFNO0FBQ3RCLEtBQUcsRUFBRSxnQkFBTSxNQUFNO0FBQ2pCLE9BQUssRUFBRSxnQkFBTSxJQUFJLENBQUMsTUFBTTtBQUN4QixRQUFNLEVBQUUsZ0JBQU0sSUFBSTtrQ0FDakIsV0FBVyxFQUFHLGdCQUFNLElBQUksQ0FBQyxHQUFHLGtDQUM1QixVQUFVLEVBQUcsZ0JBQU0sSUFBSSxDQUFDLElBQUksa0NBQzVCLFFBQVEsRUFBRyxnQkFBTSxJQUFJLENBQUMsS0FBSyxrQ0FDM0IsV0FBVyxFQUFHLGdCQUFNLFFBQVEsaUJBQzlCLENBQUE7O0FBRUQsU0FBUyxHQUFHLENBQUUsR0FBRyxFQUF3QjtNQUF0QixHQUFHLHlEQUFHLEVBQUU7TUFBRSxJQUFJLHlEQUFHLEdBQUc7O0FBQ3JDLE1BQU0sR0FBRyxHQUFHLHlCQUFVLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQTs7QUFFakMsU0FBTyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxBQUFDLElBQUksS0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQTtDQUNyRTs7QUFFYyxTQUFTLE1BQU0sQ0FBRSxPQUFPLEVBQTBDO01BQXhDLEtBQUsseURBQUcsVUFBVTtNQUFFLFVBQVUseURBQUcsS0FBSzs7QUFDN0UsTUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFBOztBQUVoQixNQUFJLEtBQUssS0FBSyxTQUFTLEVBQUU7QUFDdkIsV0FBTyxXQUFRLFVBQVUsR0FBRyxRQUFRLEdBQUcsT0FBTyxDQUFBLFNBQUksWUFBWSxDQUFFLEtBQUssQ0FBRSxDQUFDLEtBQUssQ0FBQyxNQUFHLENBQUE7O0FBRWpGLFdBQU8sQ0FBQyxHQUFHLENBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFJLE9BQU8sQ0FBRyxDQUFBO0dBQzFDLE1BQU07QUFDTCxXQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0dBQ3JCO0NBQ0Y7O0FBRU0sU0FBUyxXQUFXLE9BQWE7TUFBVixPQUFPLFFBQVAsT0FBTzs7QUFDbkMsTUFBTSxFQUFFLEdBQUcsZ0JBQU0sSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFBO0FBQzlDLE1BQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQTtBQUNsQixNQUFNLENBQUMsR0FBRyxTQUFKLENBQUMsQ0FBRyxHQUFHO1dBQUksTUFBTSxDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUM7R0FBQSxDQUFBOztBQUV2QyxHQUFDLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDVixHQUFDLENBQUMsRUFBRSxDQUFDLENBQUE7QUFDTCxHQUFDLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFBO0FBQ25DLEdBQUMsQ0FBSSxZQUFZLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxrQ0FBNkIsT0FBTyxDQUFHLENBQUE7QUFDbEYsR0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFBO0FBQ0wsR0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0NBQ1giLCJmaWxlIjoib3V0cHV0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBjaGFsayBmcm9tICdjaGFsaydcbmltcG9ydCBzdHJpcEFuc2kgZnJvbSAnc3RyaXAtYW5zaSdcblxuZXhwb3J0IGNvbnN0IExFVkVMX09LID0gJ29rJ1xuZXhwb3J0IGNvbnN0IExFVkVMX0lORk8gPSAnaW5mbydcbmV4cG9ydCBjb25zdCBMRVZFTF9FUlJPUiA9ICdlcnJvcidcbmV4cG9ydCBjb25zdCBMRVZFTF9SQVcgPSAncmF3J1xuZXhwb3J0IGNvbnN0IExFVkVMX0RFQlVHID0gJ2RlYnVnJ1xuXG5leHBvcnQgY29uc3Qgb3V0cHV0U3R5bGVzID0ge1xuICBoZWFkbGluZTogY2hhbGsuYm9sZC55ZWxsb3csXG4gIHVybDogY2hhbGsueWVsbG93LFxuICB0YXJnZXQ6IGNoYWxrLmN5YW4sXG4gIGVycm9yOiBjaGFsay5ib2xkLnJlZCxcbiAgdXNlcm5hbWU6IGNoYWxrLnllbGxvdyxcbiAgYXBwOiBjaGFsay55ZWxsb3csXG4gIHVzYWdlOiBjaGFsay5ib2xkLnllbGxvdyxcbiAgY2xpQXJnOiBjaGFsay5jeWFuLFxuICBbTEVWRUxfRVJST1JdOiBjaGFsay5ib2xkLnJlZCxcbiAgW0xFVkVMX0lORk9dOiBjaGFsay5ib2xkLmdyZXksXG4gIFtMRVZFTF9PS106IGNoYWxrLmJvbGQuZ3JlZW4sXG4gIFtMRVZFTF9ERUJVR106IGNoYWxrLmJnWWVsbG93XG59XG5cbmZ1bmN0aW9uIHBhZCAoc3RyLCBtYXggPSAxNSwgY2hhciA9ICcgJykge1xuICBjb25zdCBsZW4gPSBzdHJpcEFuc2koc3RyKS5sZW5ndGhcblxuICByZXR1cm4gbGVuIDwgbWF4ID8gc3RyICsgKG5ldyBBcnJheShtYXggLSBsZW4gKyAxKSkuam9pbihjaGFyKSA6IHN0clxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvdXRwdXQgKG1lc3NhZ2UsIGxldmVsID0gTEVWRUxfSU5GTywgZnJvbVJlbW90ZSA9IGZhbHNlKSB7XG4gIGxldCBwcmVwZW5kID0gJydcblxuICBpZiAobGV2ZWwgIT09IExFVkVMX1JBVykge1xuICAgIHByZXBlbmQgKz0gYFske2Zyb21SZW1vdGUgPyAnc2VydmVyJyA6ICdsb2NhbCd9OiR7b3V0cHV0U3R5bGVzWyBsZXZlbCBdKGxldmVsKX1dYFxuXG4gICAgY29uc29sZS5sb2coYCR7cGFkKHByZXBlbmQpfSAke21lc3NhZ2V9YClcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhtZXNzYWdlKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvdXRwdXRUaXRsZSAoe3ZlcnNpb259KSB7IC8vIEFsbCBvZiBwYWNrYWdlLmpzb24gcGFzc2VkIGluLCB1c2luZyBvbmx5IHZlcnNpb24gZm9yIG5vd1xuICBjb25zdCBociA9IGNoYWxrLmdyZXkobmV3IEFycmF5KDgwKS5qb2luKCctJykpXG4gIGNvbnN0IG5ld2xpbmUgPSAnJ1xuICBjb25zdCBvID0gbXNnID0+IG91dHB1dChtc2csIExFVkVMX1JBVylcblxuICBvKG5ld2xpbmUpXG4gIG8oaHIpXG4gIG8ob3V0cHV0U3R5bGVzLmhlYWRsaW5lKCdoYW5kb3V0JykpXG4gIG8oYCR7b3V0cHV0U3R5bGVzLmhlYWRsaW5lKCd0YWlsb3JlZCBhcHBzJyl9IGJhY2tlbmQgZGVwbG95bWVudCB0b29sIHYke3ZlcnNpb259YClcbiAgbyhocilcbiAgbyhuZXdsaW5lKVxufVxuIl19
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getCommands;

var _output = require('output');

var _handoutConstants = require('handout-constants');

var cliArg = _output.outputStyles.cliArg;
function getCommands(defaults) {
  var globalOptions = {
    'username': {
      alias: 'u',
      default: defaults.username || process.env.USER,
      describe: 'Username to use when connecting to deployment server'
    },
    'keyfile': {
      alias: 'k',
      default: defaults.keyfile,
      describe: 'Path to private key'
    },
    'server': {
      alias: 's',
      default: defaults.server,
      describe: 'Full server URL'
    },
    'debug': {
      type: 'boolean',
      default: defaults.debug || false,
      describe: 'Debug mode (enables -vvvv for playbooks, among other things)'
    }
  };

  var accountname = {
    alias: 'n',
    demand: true,
    describe: 'Account name'
  };

  var app = {
    alias: 'a',
    demand: true,
    describe: 'App identifier (e.g. deepsea, passerby, ...)'
  };

  var targets = {
    alias: 't',
    demand: true,
    array: true,
    describe: 'Space separated list of deployment targets (e.g. "--targets callisto titan")'
  };

  var commands = [{
    command: 'deploy',
    desc: 'deploy an application',
    usageStr: 'deploy -a ' + cliArg('appIdentifier') + ' -t ' + cliArg('target') + '[ ' + cliArg('target') + ' ...]',
    examples: [{ cli: 'deploy -a deepsea -t callisto', desc: 'Deploy app "deepsea" to target "callisto"' }, { cli: 'deploy -a passerby -t all -u some_user -k ~/.ssh/id_rsa.someuser --check', desc: 'Perform a mock-deployment of "passerby" to all available targets, connecting as user "some_user", using private key file "~/.ssh/id_rsa.someuser".' }],
    options: {
      app: app,
      targets: targets,
      'check': {
        alias: 'c',
        type: 'boolean',
        default: defaults.check,
        describe: "Perform check, don't change anything"
      },
      'no-pull': {
        alias: 'N',
        type: 'boolean',
        default: defaults.noPull || false,
        describe: 'Do not perform "git pull" on playbook repository before deployment'
      }
    }
  }, {
    command: 'user',
    desc: 'manage user accounts',
    usageStr: 'user -a action -n accountname -p /path/to/id_rsa.pub',
    examples: [{ cli: 'user -a create -n foo -p ~/.ssh/id_rsa.pub', desc: 'Creates an account named "foo", adding the pubkey located at ~/.ssh/id_rsa.pub to the list of accepted pubkeys.' }, { cli: 'user -a add-pubkey -n foo -p ~/.ssh/id_rsa.secondary.pub', desc: 'Adds the key located at ~/.ssh/id_rsa.secondary.pub to the list of accepted pubkeys for the user account "foo".' }, { cli: 'user -a remove-pubkey -n foo -p ~/.ssh/id_rsa.secondary.pub', desc: 'Removes the key located at ~/.ssh/id_rsa.secondary.pub from the list of accepted pubkeys for the user account "foo".' }, { cli: 'user -d remove -n foo', desc: 'Removes the user account "foo" and all associated pubkeys from the server.' }],
    options: {
      accountname: accountname,
      'action': {
        alias: 'a',
        demand: true,
        choices: ['create', 'add-pubkey', 'remove-pubkey', 'remove'],
        describe: 'Action to take'
      },
      'pubkey': {
        alias: 'p',
        describe: 'Path to public key file (required unless removing a user).'
      }
    }
  }, {
    command: 'user-list',
    desc: 'list user accounts',
    usageStr: 'user-list'
  }, {
    command: 'permission',
    desc: 'manage permissions',
    usageStr: 'permission -a appIdentifier -p permission -n username -t targets',
    examples: [{ cli: 'permission -n admin -a all -t all -p grant', desc: 'grant permission to deploy all apps on all targets to user admin' }],
    options: {
      accountname: accountname,
      'category': {
        alias: 'c',
        demand: true,
        choices: [_handoutConstants.PERMISSION_CATEGORY_DEPLOY, _handoutConstants.PERMISSION_CATEGORY_PERMISSION_MANAGEMENT, _handoutConstants.PERMISSION_CATEGORY_USER_LIST, _handoutConstants.PERMISSION_CATEGORY_USER_MANAGEMENT],
        describe: 'Permission category'
      },
      'app': Object.assign({}, app, { demand: false }),
      'targets': Object.assign({}, targets, { demand: false }),
      'permission': {
        alias: 'p',
        demand: true,
        choices: [_handoutConstants.PERMISSION_GRANT, _handoutConstants.PERMISSION_DENY],
        describe: 'grant or deny permission to deploy specified app to selected targets'
      }
    }
  }, {
    command: 'info',
    desc: 'Shows information about available apps, targets and permissions'
  }];

  return {
    globalOptions: globalOptions,
    commands: commands
  };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ub2RlX21vZHVsZXMvY29tbWFuZHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFBOzs7OztrQkFjWSxXQUFXOzs7Ozs7SUFGM0IsTUFBTSx3QkFBTixNQUFNO0FBRUMsU0FBUyxXQUFXLENBQUUsUUFBUSxFQUFFO0FBQzdDLE1BQU0sYUFBYSxHQUFHO0FBQ3BCLGNBQVUsRUFBRTtBQUNWLFdBQUssRUFBRSxHQUFHO0FBQ1YsYUFBTyxFQUFFLFFBQVEsQ0FBQyxRQUFRLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJO0FBQzlDLGNBQVEsRUFBRSxzREFBc0Q7S0FDakU7QUFDRCxhQUFTLEVBQUU7QUFDVCxXQUFLLEVBQUUsR0FBRztBQUNWLGFBQU8sRUFBRSxRQUFRLENBQUMsT0FBTztBQUN6QixjQUFRLEVBQUUscUJBQXFCO0tBQ2hDO0FBQ0QsWUFBUSxFQUFFO0FBQ1IsV0FBSyxFQUFFLEdBQUc7QUFDVixhQUFPLEVBQUUsUUFBUSxDQUFDLE1BQU07QUFDeEIsY0FBUSxFQUFFLGlCQUFpQjtLQUM1QjtBQUNELFdBQU8sRUFBRTtBQUNQLFVBQUksRUFBRSxTQUFTO0FBQ2YsYUFBTyxFQUFFLFFBQVEsQ0FBQyxLQUFLLElBQUksS0FBSztBQUNoQyxjQUFRLEVBQUUsOERBQThEO0tBQ3pFO0dBQ0YsQ0FBQTs7QUFFRCxNQUFNLFdBQVcsR0FBRztBQUNsQixTQUFLLEVBQUUsR0FBRztBQUNWLFVBQU0sRUFBRSxJQUFJO0FBQ1osWUFBUSxFQUFFLGNBQWM7R0FDekIsQ0FBQTs7QUFFRCxNQUFNLEdBQUcsR0FBRztBQUNWLFNBQUssRUFBRSxHQUFHO0FBQ1YsVUFBTSxFQUFFLElBQUk7QUFDWixZQUFRLEVBQUUsOENBQThDO0dBQ3pELENBQUE7O0FBRUQsTUFBTSxPQUFPLEdBQUc7QUFDZCxTQUFLLEVBQUUsR0FBRztBQUNWLFVBQU0sRUFBRSxJQUFJO0FBQ1osU0FBSyxFQUFFLElBQUk7QUFDWCxZQUFRLEVB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QzlDLGdCQUFRLEVBQUUsc0VBQXNFO09BQ2pGO0tBQ0Y7R0FDRixFQUNEO0FBQ0UsV0FBTyxFQUFFLE1BQU07QUFDZixRQUFJLEVBQUUsaUVBQWlFO0dBQ3hFLENBQ0YsQ0FBQTs7QUFFRCxTQUFPO0FBQ0wsaUJBQWEsRUFBYixhQUFhO0FBQ2IsWUFBUSxFQUFSLFFBQVE7R0FDVCxDQUFBO0NBQ0YiLCJmaWxlIjoiY29tbWFuZHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuaW1wb3J0IHsgb3V0cHV0U3R5bGVzIH0gZnJvbSAnb3V0cHV0J1xuaW1wb3J0IHtcbiAgUEVSTUlTU0lPTl9HUkFOVCxcbiAgUEVSTUlTU0lPTl9ERU5ZLFxuICBQRVJNSVNTSU9OX0NBVEVHT1JZX0RFUExPWSxcbiAgUEVSTUlTU0lPTl9DQVRFR09SWV9QRVJNSVNTSU9OX01BTkFHRU1FTlQsXG4gIFBFUk1JU1NJT05fQ0FURUdPUllfVVNFUl9MSVNULFxuICBQRVJNSVNTSU9OX0NBVEVHT1JZX1VTRVJfTUFOQUdFTUVOVFxufSBmcm9tICdoYW5kb3V0LWNvbnN0YW50cydcblxuY29uc3QgeyBjbGlBcmcgfSA9IG91dHB1dFN0eWxlc1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRDb21tYW5kcyAoZGVmYXVsdHMpIHtcbiAgY29uc3QgZ2xvYmFsT3B0aW9ucyA9IHtcbiAgICAndXNlcm5hbWUnOiB7XG4gICAgICBhbGlhczogJ3UnLFxuICAgICAgZGVmYXVsdDogZGVmYXVsdHMudXNlcm5hbWUgfHwgcHJvY2Vzcy5lbnYuVVNFUixcbiAgICAgIGRlc2NyaWJlOiAnVXNlcm5hbWUgdG8gdXNlIHdoZW4gY29ubmVjdGluZyB0byBkZXBsb3ltZW50IHNlcnZlcidcbiAgICB9LFxuICAgICdrZXlmaWxlJzoge1xuICAgICAgYWxpYXM6ICdrJyxcbiAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLmtleWZpbGUsXG4gICAgICBkZXNjcmliZTogJ1BhdGggdG8gcHJpdmF0ZSBrZXknXG4gICAgfSxcbiAgICAnc2VydmVyJzoge1xuICAgICAgYWxpYXM6ICdzJyxcbiAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLnNlcnZlcixcbiAgICAgIGRlc2NyaWJlOiAnRnVsbCBzZXJ2ZXIgVVJMJ1xuICAgIH0sXG4gICAgJ2RlYnVnJzoge1xuICAgICAgdHlwZTogJ2Jvb2xlYW4nLFxuICAgICAgZGVmYXVsdDogZGVmYXVsdHMuZGVidWcgfHwgZmFsc2UsXG4gICAgICBkZXNjcmliZTogJ0RlYnVnIG1vZGUgKGVuYWJsZXMgLXZ2dnYgZm9yIHBsYXlib29rcywgYW1vbmcgb3RoZXIgdGhpbmdzKSdcbiAgICB9XG4gIH1cblxuICBjb25zdCBhY2NvdW50bmFtZSA9IHtcbiAgICBhbGlhczogJ24nLFxuICAgIGRlbWFuZDogdHJ1ZSxcbiAgICBkZXNjcmliZTogJ0FjY291bnQgbmFtZSdcbiAgfVxuXG4gIGNvbnN0IGFwcCA9IHtcbiAgICBhbGlhczogJ2EnLFxuICAgIGRlbWFuZDogdHJ1ZSxcbiAgICBkZXNjcmliZTogJ0FwcCBpZGVudGlmaWVyIChlLmcuIGRlZXBzZWEsIHBhc3NlcmJ5LCAuLi4pJ1xuICB9XG5cbiAgY29uc3QgdGFyZ2V0cyA9IHtcbiAgICBhbGlhczogJ3QnLFxuICAgIGRlbWFuZDogdHJ1ZSxcbiAgICBhcnJheTogdHJ1ZSxcbiAgICBkZXNjcmliZTogJ1NwYWNlIHNlcGFyYXRlZCBsaXN0IG9mIGRlcGxveW1lbnQgdGFyZ2V0cyAoZS5nLiBcIi0tdGFyZ2V0cyBjYWxsaXN0byB0aXRhblwiKSdcbiAgfVxuXG4gIGNvbnN0IGNvbW1hbmRzID0gW1xuICAgIHtcbiAgICAgIGNvbW1hbmQ6ICdkZXBsb3knLFxuICAgICAgZGVzYzogJ2RlcGxveSBhbiBhcHBsaWNhdGlvbicsXG4gICAgICB1c2FnZVN0cjogYGRlcGxveSAtYSAke2NsaUFyZygnYXBwSWRlbnRpZmllcicpfSAtdCAke2NsaUFyZygndGFyZ2V0Jyl9WyAke2NsaUFyZygndGFyZ2V0Jyl9IC4uLl1gLFxuICAgICAgZXhhbXBsZXM6IFtcbiAgICAgICAgeyBjbGk6ICdkZXBsb3kgLWEgZGVlcHNlYSAtdCBjYWxsaXN0bycsIGRlc2M6ICdEZXBsb3kgYXBwIFwiZGVlcHNlYVwiIHRvIHRhcmdldCBcImNhbGxpc3RvXCInIH0sXG4gICAgICAgIHsgY2xpOiAnZGVwbG95IC1hIHBhc3NlcmJ5IC10IGFsbCAtdSBzb21lX3VzZXIgLWsgfi8uc3NoL2lkX3JzYS5zb21ldXNlciAtLWNoZWNrJywgZGVzYzogJ1BlcmZvcm0gYSBtb2NrLWRlcGxveW1lbnQgb2YgXCJwYXNzZXJieVwiIHRvIGFsbCBhdmFpbGFibGUgdGFyZ2V0cywgY29ubmVjdGluZyBhcyB1c2VyIFwic29tZV91c2VyXCIsIHVzaW5nIHByaXZhdGUga2V5IGZpbGUgXCJ+Ly5zc2gvaWRfcnNhLnNvbWV1c2VyXCIuJyB9XG4gICAgICBdLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBhcHAsXG4gICAgICAgIHRhcmdldHMsXG4gICAgICAgICdjaGVjayc6IHtcbiAgICAgICAgICBhbGlhczogJ2MnLFxuICAgICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5jaGVjayxcbiAgICAgICAgICBkZXNjcmliZTogXCJQZXJmb3JtIGNoZWNrLCBkb24ndCBjaGFuZ2UgYW55dGhpbmdcIlxuICAgICAgICB9LFxuICAgICAgICAnbm8tcHVsbCc6IHtcbiAgICAgICAgICBhbGlhczogJ04nLFxuICAgICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgICBkZWZhdWx0OiBkZWZhdWx0cy5ub1B1bGwgfHwgZmFsc2UsXG4gICAgICAgICAgZGVzY3JpYmU6ICdEbyBub3QgcGVyZm9ybSBcImdpdCBwdWxsXCIgb24gcGxheWJvb2sgcmVwb3NpdG9yeSBiZWZvcmUgZGVwbG95bWVudCdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgY29tbWFuZDogJ3VzZXInLFxuICAgICAgZGVzYzogJ21hbmFnZSB1c2VyIGFjY291bnRzJyxcbiAgICAgIHVzYWdlU3RyOiAndXNlciAtYSBhY3Rpb24gLW4gYWNjb3VudG5hbWUgLXAgL3BhdGgvdG8vaWRfcnNhLnB1YicsXG4gICAgICBleGFtcGxlczogW1xuICAgICAgICB7IGNsaTogJ3VzZXIgLWEgY3JlYXRlIC1uIGZvbyAtcCB+Ly5zc2gvaWRfcnNhLnB1YicsIGRlc2M6ICdDcmVhdGVzIGFuIGFjY291bnQgbmFtZWQgXCJmb29cIiwgYWRkaW5nIHRoZSBwdWJrZXkgbG9jYXRlZCBhdCB+Ly5zc2gvaWRfcnNhLnB1YiB0byB0aGUgbGlzdCBvZiBhY2NlcHRlZCBwdWJrZXlzLicgfSxcbiAgICAgICAgeyBjbGk6ICd1c2VyIC1hIGFkZC1wdWJrZXkgLW4gZm9vIC1wIH4vLnNzaC9pZF9yc2Euc2Vjb25kYXJ5LnB1YicsIGRlc2M6ICdBZGRzIHRoZSBrZXkgbG9jYXRlZCBhdCB+Ly5zc2gvaWRfcnNhLnNlY29uZGFyeS5wdWIgdG8gdGhlIGxpc3Qgb2YgYWNjZXB0ZWQgcHVia2V5cyBmb3IgdGhlIHVzZXIgYWNjb3VudCBcImZvb1wiLicgfSxcbiAgICAgICAgeyBjbGk6ICd1c2VyIC1hIHJlbW92ZS1wdWJrZXkgLW4gZm9vIC1wIH4vLnNzaC9pZF9yc2Euc2Vjb25kYXJ5LnB1YicsIGRlc2M6ICdSZW1vdmVzIHRoZSBrZXkgbG9jYXRlZCBhdCB+Ly5zc2gvaWRfcnNhLnNlY29uZGFyeS5wdWIgZnJvbSB0aGUgbGlzdCBvZiBhY2NlcHRlZCBwdWJrZXlzIGZvciB0aGUgdXNlciBhY2NvdW50IFwiZm9vXCIuJyB9LFxuICAgICAgICB7IGNsaTogJ3VzZXIgLWQgcmVtb3ZlIC1uIGZvbycsIGRlc2M6ICdSZW1vdmVzIHRoZSB1c2VyIGFjY291bnQgXCJmb29cIiBhbmQgYWxsIGFzc29jaWF0ZWQgcHVia2V5cyBmcm9tIHRoZSBzZXJ2ZXIuJyB9XG4gICAgICBdLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBhY2NvdW50bmFtZSxcbiAgICAgICAgJ2FjdGlvbic6IHtcbiAgICAgICAgICBhbGlhczogJ2EnLFxuICAgICAgICAgIGRlbWFuZDogdHJ1ZSxcbiAgICAgICAgICBjaG9pY2VzOiBbICdjcmVhdGUnLCAnYWRkLXB1YmtleScsICdyZW1vdmUtcHVia2V5JywgJ3JlbW92ZScgXSxcbiAgICAgICAgICBkZXNjcmliZTogJ0FjdGlvbiB0byB0YWtlJ1xuICAgICAgICB9LFxuICAgICAgICAncHVia2V5Jzoge1xuICAgICAgICAgIGFsaWFzOiAncCcsXG4gICAgICAgICAgZGVzY3JpYmU6ICdQYXRoIHRvIHB1YmxpYyBrZXkgZmlsZSAocmVxdWlyZWQgdW5sZXNzIHJlbW92aW5nIGEgdXNlcikuJ1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICBjb21tYW5kOiAndXNlci1saXN0JyxcbiAgICAgIGRlc2M6ICdsaXN0IHVzZXIgYWNjb3VudHMnLFxuICAgICAgdXNhZ2VTdHI6ICd1c2VyLWxpc3QnXG4gICAgfSxcbiAgICB7XG4gICAgICBjb21tYW5kOiAncGVybWlzc2lvbicsXG4gICAgICBkZXNjOiAnbWFuYWdlIHBlcm1pc3Npb25zJyxcbiAgICAgIHVzYWdlU3RyOiAncGVybWlzc2lvbiAtYSBhcHBJZGVudGlmaWVyIC1wIHBlcm1pc3Npb24gLW4gdXNlcm5hbWUgLXQgdGFyZ2V0cycsXG4gICAgICBleGFtcGxlczogW1xuICAgICAgICB7IGNsaTogJ3Blcm1pc3Npb24gLW4gYWRtaW4gLWEgYWxsIC10IGFsbCAtcCBncmFudCcsIGRlc2M6ICdncmFudCBwZXJtaXNzaW9uIHRvIGRlcGxveSBhbGwgYXBwcyBvbiBhbGwgdGFyZ2V0cyB0byB1c2VyIGFkbWluJyB9XG4gICAgICBdLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBhY2NvdW50bmFtZSxcbiAgICAgICAgJ2NhdGVnb3J5Jzoge1xuICAgICAgICAgIGFsaWFzOiAnYycsXG4gICAgICAgICAgZGVtYW5kOiB0cnVlLFxuICAgICAgICAgIGNob2ljZXM6IFtcbiAgICAgICAgICAgIFBFUk1JU1NJT05fQ0FURUdPUllfREVQTE9ZLFxuICAgICAgICAgICAgUEVSTUlTU0lPTl9DQVRFR09SWV9QRVJNSVNTSU9OX01BTkFHRU1FTlQsXG4gICAgICAgICAgICBQRVJNSVNTSU9OX0NBVEVHT1JZX1VTRVJfTElTVCxcbiAgICAgICAgICAgIFBFUk1JU1NJT05fQ0FURUdPUllfVVNFUl9NQU5BR0VNRU5UXG4gICAgICAgICAgXSxcbiAgICAgICAgICBkZXNjcmliZTogJ1Blcm1pc3Npb24gY2F0ZWdvcnknXG4gICAgICAgIH0sXG4gICAgICAgICdhcHAnOiBPYmplY3QuYXNzaWduKHt9LCBhcHAsIHsgZGVtYW5kOiBmYWxzZSB9KSxcbiAgICAgICAgJ3RhcmdldHMnOiBPYmplY3QuYXNzaWduKHt9LCB0YXJnZXRzLCB7IGRlbWFuZDogZmFsc2UgfSksXG4gICAgICAgICdwZXJtaXNzaW9uJzoge1xuICAgICAgICAgIGFsaWFzOiAncCcsXG4gICAgICAgICAgZGVtYW5kOiB0cnVlLFxuICAgICAgICAgIGNob2ljZXM6IFsgUEVSTUlTU0lPTl9HUkFOVCwgUEVSTUlTU0lPTl9ERU5ZIF0sXG4gICAgICAgICAgZGVzY3JpYmU6ICdncmFudCBvciBkZW55IHBlcm1pc3Npb24gdG8gZGVwbG95IHNwZWNpZmllZCBhcHAgdG8gc2VsZWN0ZWQgdGFyZ2V0cydcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgY29tbWFuZDogJ2luZm8nLFxuICAgICAgZGVzYzogJ1Nob3dzIGluZm9ybWF0aW9uIGFib3V0IGF2YWlsYWJsZSBhcHBzLCB0YXJnZXRzIGFuZCBwZXJtaXNzaW9ucydcbiAgICB9XG4gIF1cblxuICByZXR1cm4ge1xuICAgIGdsb2JhbE9wdGlvbnMsXG4gICAgY29tbWFuZHNcbiAgfVxufVxuIl19
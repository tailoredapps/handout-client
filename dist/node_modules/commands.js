'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getCommands;

var _output = require('output');

var _handoutConstants = require('handout-constants');

var cliArg = _output.outputStyles.cliArg;
function getCommands(defaults) {
  var globalOptions = {
    'username': {
      alias: 'u',
      default: defaults.username || process.env.USER,
      describe: 'Username to use when connecting to deployment server'
    },
    'keyfile': {
      alias: 'k',
      default: defaults.keyfile,
      describe: 'Path to private key'
    },
    'server': {
      alias: 's',
      default: defaults.server,
      describe: 'Full server URL'
    },
    'debug': {
      type: 'boolean',
      default: defaults.debug || false,
      describe: 'Debug mode (enables -vvvv for playbooks, among other things)'
    }
  };

  var accountname = {
    alias: 'n',
    demand: true,
    describe: 'Account name'
  };

  var app = {
    alias: 'a',
    demand: true,
    describe: 'App identifier (e.g. deepsea, passerby, ...)'
  };

  var targets = {
    alias: 't',
    demand: true,
    array: true,
    describe: 'Space separated list of deployment targets (e.g. "--targets callisto titan")'
  };

  var commands = [{
    command: 'deploy',
    desc: 'deploy an application',
    usageStr: 'deploy -a ' + cliArg('appIdentifier') + ' -t ' + cliArg('target') + '[ ' + cliArg('target') + ' ...]',
    examples: [{ cli: 'deploy -a deepsea -t callisto', desc: 'Deploy app "deepsea" to target "callisto"' }, { cli: 'deploy -a passerby -t all -u some_user -k ~/.ssh/id_rsa.someuser --check', desc: 'Perform a mock-deployment of "passerby" to all available targets, connecting as user "some_user", using private key file "~/.ssh/id_rsa.someuser".' }],
    options: {
      app: app,
      targets: targets,
      'check': {
        alias: 'c',
        type: 'boolean',
        default: defaults.check,
        describe: "Perform check, don't change anything"
      },
      'no-pull': {
        alias: 'N',
        type: 'boolean',
        default: defaults.noPull || false,
        describe: 'Do not perform "git pull" on playbook repository before deployment'
      }
    }
  }, {
    command: 'user',
    desc: 'manage user accounts',
    usageStr: 'user -a action -n accountname -p /path/to/id_rsa.pub',
    examples: [{ cli: 'user -a create -n foo -p ~/.ssh/id_rsa.pub', desc: 'Creates an account named "foo", adding the pubkey located at ~/.ssh/id_rsa.pub to the list of accepted pubkeys.' }, { cli: 'user -a add-pubkey -n foo -p ~/.ssh/id_rsa.secondary.pub', desc: 'Adds the key located at ~/.ssh/id_rsa.secondary.pub to the list of accepted pubkeys for the user account "foo".' }, { cli: 'user -a remove-pubkey -n foo -p ~/.ssh/id_rsa.secondary.pub', desc: 'Removes the key located at ~/.ssh/id_rsa.secondary.pub from the list of accepted pubkeys for the user account "foo".' }, { cli: 'user -d remove -n foo', desc: 'Removes the user account "foo" and all associated pubkeys from the server.' }],
    options: {
      accountname: accountname,
      'action': {
        alias: 'a',
        demand: true,
        choices: ['create', 'add-pubkey', 'remove-pubkey', 'remove'],
        describe: 'Action to take'
      },
      'pubkey': {
        alias: 'p',
        describe: 'Path to public key file (required unless removing a user).'
      }
    }
  }, {
    command: 'user-list',
    desc: 'list user accounts',
    usageStr: 'user-list'
  }, {
    command: 'permission',
    desc: 'manage permissions',
    usageStr: 'permission -a appIdentifier -p permission -n username -t targets',
    examples: [{ cli: 'permission -n admin -a all -t all -p grant', desc: 'grant permission to deploy all apps on all targets to user admin' }],
    options: {
      accountname: accountname,
      'category': {
        alias: 'c',
        demand: true,
        choices: [_handoutConstants.PERMISSION_CATEGORY_DEPLOY, _handoutConstants.PERMISSION_CATEGORY_PERMISSION_MANAGEMENT, _handoutConstants.PERMISSION_CATEGORY_USER_LIST, _handoutConstants.PERMISSION_CATEGORY_USER_MANAGEMENT],
        describe: 'Permission category'
      },
      'app': Object.assign({}, app, { demand: false }),
      'targets': Object.assign({}, targets, { demand: false }),
      'permission': {
        alias: 'p',
        demand: true,
        choices: [_handoutConstants.PERMISSION_GRANT, _handoutConstants.PERMISSION_DENY],
        describe: 'grant or deny permission to deploy specified app to selected targets'
      }
    }
  }, {
    command: 'info',
    desc: 'Shows information about available apps, targets and permissions'
  }];

  return {
    globalOptions: globalOptions,
    commands: commands
  };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ub2RlX21vZHVsZXMvY29tbWFuZHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O2tCQWN3Qjs7Ozs7O0lBRmhCO0FBRU8sU0FBUyxXQUFULENBQXNCLFFBQXRCLEVBQWdDO0FBQzdDLE1BQU0sZ0JBQWdCO0FBQ3BCLGdCQUFZO0FBQ1YsYUFBTyxHQUFQO0FBQ0EsZUFBUyxTQUFTLFFBQVQsSUFBcUIsUUFBUSxHQUFSLENBQVksSUFBWjtBQUM5QixnQkFBVSxzREFBVjtLQUhGO0FBS0EsZUFBVztBQUNULGFBQU8sR0FBUDtBQUNBLGVBQVMsU0FBUyxPQUFUO0FBQ1QsZ0JBQVUscUJBQVY7S0FIRjtBQUtBLGNBQVU7QUFDUixhQUFPLEdBQVA7QUFDQSxlQUFTLFNBQVMsTUFBVDtBQUNULGdCQUFVLGlCQUFWO0tBSEY7QUFLQSxhQUFTO0FBQ1AsWUFBTSxTQUFOO0FBQ0EsZUFBUyxTQUFTLEtBQVQsSUFBa0IsS0FBbEI7QUFDVCxnQkFBVSw4REFBVjtLQUhGO0dBaEJJLENBRHVDOztBQXdCN0MsTUFBTSxjQUFjO0FBQ2xCLFdBQU8sR0FBUDtBQUNBLFlBQVEsSUFBUjtBQUNBLGNBQVUsY0FBVjtHQUhJLENBeEJ1Qzs7QUE4QjdDLE1BQU0sTUFBTTtBQUNWLFdBQU8sR0FBUDtBQUNBLFlBQVEsSUFBUjtBQUNBLGNBQVUsOENBQVY7R0FISSxDQTlCdUM7O0FBb0M3QyxNQUFNLFVBQVU7QUFDZCxXQUFPLEdBQVA7QUFDQSxZQUFRLElBQVI7QUFDQSxXQUFPLElBQVA7QUFDQSxjQUFVLDhFQUFWO0dBSkksQ0FwQ3VDOztBQTJDN0MsTUFBTSxXQUFXLENBQ2Y7QUFDRSxhQUFTLFFBQVQ7QUFDQSxVQUFNLHVCQUFOO0FBQ0EsNkJBQXVCLE9BQU8sZUFBUCxhQUE4QixPQUFPLFFBQVAsV0FBcUIsT0FBTyxRQUFQLFdBQTFFO0FBQ0EsY0FBVSxDQUNSLEVBQUUsS0FBSywrQkFBTCxFQUFzQyxNQUFNLDJDQUFOLEVBRGhDLEVBRVIsRUFBRSxLQUFLLDBFQUFMLEVBQWlGLE1BQU0sb0pBQU4sRUFGM0UsQ0FBVjtBQUlBLGFBQVM7QUFDUCxjQURPO0FBRVAsc0JBRk87QUFHUCxlQUFTO0FBQ1AsZUFBTyxHQUFQO0FBQ0EsY0FBTSxTQUFOO0FBQ0EsaUJBQVMsU0FBUyxLQUFUO0FBQ1Qsa0JBQVUsc0NBQVY7T0FKRjtBQU1BLGlCQUFXO0FBQ1QsZUFBTyxHQUFQO0FBQ0EsY0FBTSxTQUFOO0FBQ0EsaUJBQVMsU0FBUyxNQUFULElBQW1CLEtBQW5CO0FBQ1Qsa0JBQVUsb0VBQVY7T0FKRjtLQVRGO0dBVGEsRUEwQmY7QUFDRSxhQUFTLE1BQVQ7QUFDQSxVQUFNLHNCQUFOO0FBQ0EsY0FBVSxzREFBVjtBQUNBLGNBQVUsQ0FDUixFQUFFLEtBQUssNENBQUwsRUFBbUQsTUFBTSxpSEFBTixFQUQ3QyxFQUVSLEVBQUUsS0FBSywwREFBTCxFQUFpRSxNQUFNLGlIQUFOLEVBRjNELEVBR1IsRUFBRSxLQUFLLDZEQUFMLEVBQW9FLE1BQU0sc0hBQU4sRUFIOUQsRUFJUixFQUFFLEtBQUssdUJBQUwsRUFBOEIsTUFBTSw0RUFBTixFQUp4QixDQUFWO0FBTUEsYUFBUztBQUNQLDhCQURPO0FBRVAsZ0JBQVU7QUFDUixlQUFPLEdBQVA7QUFDQSxnQkFBUSxJQUFSO0FBQ0EsaUJBQVMsQ0FBRSxRQUFGLEVBQVksWUFBWixFQUEwQixlQUExQixFQUEyQyxRQUEzQyxDQUFUO0FBQ0Esa0JBQVUsZ0JBQVY7T0FKRjtBQU1BLGdCQUFVO0FBQ1IsZUFBTyxHQUFQO0FBQ0Esa0JBQVUsNERBQVY7T0FGRjtLQVJGO0dBcENhLEVBa0RmO0FBQ0UsYUFBUyxXQUFUO0FBQ0EsVUFBTSxvQkFBTjtBQUNBLGNBQVUsV0FBVjtHQXJEYSxFQXVEZjtBQUNFLGFBQVMsWUFBVDtBQUNBLFVBQU0sb0JBQU47QUFDQSxjQUFVLGtFQUFWO0FBQ0EsY0FBVSxDQUNSLEVBQUUsS0FBSyw0Q0FBTCxFQUFtRCxNQUFNLGtFQUFOLEVBRDdDLENBQVY7QUFHQSxhQUFTO0FBQ1AsOEJBRE87QUFFUCxrQkFBWTtBQUNWLGVBQU8sR0FBUDtBQUNBLGdCQUFRLElBQVI7QUFDQSxpQkFBUyxtTkFBVDtBQU1BLGtCQUFVLHFCQUFWO09BVEY7QUFXQSxhQUFPLE9BQU8sTUFBUCxDQUFjLEVBQWQsRUFBa0IsR0FBbEIsRUFBdUIsRUFBRSxRQUFRLEtBQVIsRUFBekIsQ0FBUDtBQUNBLGlCQUFXLE9BQU8sTUFBUCxDQUFjLEVBQWQsRUFBa0IsT0FBbEIsRUFBMkIsRUFBRSxRQUFRLEtBQVIsRUFBN0IsQ0FBWDtBQUNBLG9CQUFjO0FBQ1osZUFBTyxHQUFQO0FBQ0EsZ0JBQVEsSUFBUjtBQUNBLGlCQUFTLHVFQUFUO0FBQ0Esa0JBQVUsc0VBQVY7T0FKRjtLQWZGO0dBOURhLEVBcUZmO0FBQ0UsYUFBUyxNQUFUO0FBQ0EsVUFBTSxpRUFBTjtHQXZGYSxDQUFYLENBM0N1Qzs7QUFzSTdDLFNBQU87QUFDTCxnQ0FESztBQUVMLHNCQUZLO0dBQVAsQ0F0STZDO0NBQWhDIiwiZmlsZSI6ImNvbW1hbmRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCB7IG91dHB1dFN0eWxlcyB9IGZyb20gJ291dHB1dCdcbmltcG9ydCB7XG4gIFBFUk1JU1NJT05fR1JBTlQsXG4gIFBFUk1JU1NJT05fREVOWSxcbiAgUEVSTUlTU0lPTl9DQVRFR09SWV9ERVBMT1ksXG4gIFBFUk1JU1NJT05fQ0FURUdPUllfUEVSTUlTU0lPTl9NQU5BR0VNRU5ULFxuICBQRVJNSVNTSU9OX0NBVEVHT1JZX1VTRVJfTElTVCxcbiAgUEVSTUlTU0lPTl9DQVRFR09SWV9VU0VSX01BTkFHRU1FTlRcbn0gZnJvbSAnaGFuZG91dC1jb25zdGFudHMnXG5cbmNvbnN0IHsgY2xpQXJnIH0gPSBvdXRwdXRTdHlsZXNcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Q29tbWFuZHMgKGRlZmF1bHRzKSB7XG4gIGNvbnN0IGdsb2JhbE9wdGlvbnMgPSB7XG4gICAgJ3VzZXJuYW1lJzoge1xuICAgICAgYWxpYXM6ICd1JyxcbiAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLnVzZXJuYW1lIHx8IHByb2Nlc3MuZW52LlVTRVIsXG4gICAgICBkZXNjcmliZTogJ1VzZXJuYW1lIHRvIHVzZSB3aGVuIGNvbm5lY3RpbmcgdG8gZGVwbG95bWVudCBzZXJ2ZXInXG4gICAgfSxcbiAgICAna2V5ZmlsZSc6IHtcbiAgICAgIGFsaWFzOiAnaycsXG4gICAgICBkZWZhdWx0OiBkZWZhdWx0cy5rZXlmaWxlLFxuICAgICAgZGVzY3JpYmU6ICdQYXRoIHRvIHByaXZhdGUga2V5J1xuICAgIH0sXG4gICAgJ3NlcnZlcic6IHtcbiAgICAgIGFsaWFzOiAncycsXG4gICAgICBkZWZhdWx0OiBkZWZhdWx0cy5zZXJ2ZXIsXG4gICAgICBkZXNjcmliZTogJ0Z1bGwgc2VydmVyIFVSTCdcbiAgICB9LFxuICAgICdkZWJ1Zyc6IHtcbiAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgIGRlZmF1bHQ6IGRlZmF1bHRzLmRlYnVnIHx8IGZhbHNlLFxuICAgICAgZGVzY3JpYmU6ICdEZWJ1ZyBtb2RlIChlbmFibGVzIC12dnZ2IGZvciBwbGF5Ym9va3MsIGFtb25nIG90aGVyIHRoaW5ncyknXG4gICAgfVxuICB9XG5cbiAgY29uc3QgYWNjb3VudG5hbWUgPSB7XG4gICAgYWxpYXM6ICduJyxcbiAgICBkZW1hbmQ6IHRydWUsXG4gICAgZGVzY3JpYmU6ICdBY2NvdW50IG5hbWUnXG4gIH1cblxuICBjb25zdCBhcHAgPSB7XG4gICAgYWxpYXM6ICdhJyxcbiAgICBkZW1hbmQ6IHRydWUsXG4gICAgZGVzY3JpYmU6ICdBcHAgaWRlbnRpZmllciAoZS5nLiBkZWVwc2VhLCBwYXNzZXJieSwgLi4uKSdcbiAgfVxuXG4gIGNvbnN0IHRhcmdldHMgPSB7XG4gICAgYWxpYXM6ICd0JyxcbiAgICBkZW1hbmQ6IHRydWUsXG4gICAgYXJyYXk6IHRydWUsXG4gICAgZGVzY3JpYmU6ICdTcGFjZSBzZXBhcmF0ZWQgbGlzdCBvZiBkZXBsb3ltZW50IHRhcmdldHMgKGUuZy4gXCItLXRhcmdldHMgY2FsbGlzdG8gdGl0YW5cIiknXG4gIH1cblxuICBjb25zdCBjb21tYW5kcyA9IFtcbiAgICB7XG4gICAgICBjb21tYW5kOiAnZGVwbG95JyxcbiAgICAgIGRlc2M6ICdkZXBsb3kgYW4gYXBwbGljYXRpb24nLFxuICAgICAgdXNhZ2VTdHI6IGBkZXBsb3kgLWEgJHtjbGlBcmcoJ2FwcElkZW50aWZpZXInKX0gLXQgJHtjbGlBcmcoJ3RhcmdldCcpfVsgJHtjbGlBcmcoJ3RhcmdldCcpfSAuLi5dYCxcbiAgICAgIGV4YW1wbGVzOiBbXG4gICAgICAgIHsgY2xpOiAnZGVwbG95IC1hIGRlZXBzZWEgLXQgY2FsbGlzdG8nLCBkZXNjOiAnRGVwbG95IGFwcCBcImRlZXBzZWFcIiB0byB0YXJnZXQgXCJjYWxsaXN0b1wiJyB9LFxuICAgICAgICB7IGNsaTogJ2RlcGxveSAtYSBwYXNzZXJieSAtdCBhbGwgLXUgc29tZV91c2VyIC1rIH4vLnNzaC9pZF9yc2Euc29tZXVzZXIgLS1jaGVjaycsIGRlc2M6ICdQZXJmb3JtIGEgbW9jay1kZXBsb3ltZW50IG9mIFwicGFzc2VyYnlcIiB0byBhbGwgYXZhaWxhYmxlIHRhcmdldHMsIGNvbm5lY3RpbmcgYXMgdXNlciBcInNvbWVfdXNlclwiLCB1c2luZyBwcml2YXRlIGtleSBmaWxlIFwifi8uc3NoL2lkX3JzYS5zb21ldXNlclwiLicgfVxuICAgICAgXSxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgYXBwLFxuICAgICAgICB0YXJnZXRzLFxuICAgICAgICAnY2hlY2snOiB7XG4gICAgICAgICAgYWxpYXM6ICdjJyxcbiAgICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMuY2hlY2ssXG4gICAgICAgICAgZGVzY3JpYmU6IFwiUGVyZm9ybSBjaGVjaywgZG9uJ3QgY2hhbmdlIGFueXRoaW5nXCJcbiAgICAgICAgfSxcbiAgICAgICAgJ25vLXB1bGwnOiB7XG4gICAgICAgICAgYWxpYXM6ICdOJyxcbiAgICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgICAgZGVmYXVsdDogZGVmYXVsdHMubm9QdWxsIHx8IGZhbHNlLFxuICAgICAgICAgIGRlc2NyaWJlOiAnRG8gbm90IHBlcmZvcm0gXCJnaXQgcHVsbFwiIG9uIHBsYXlib29rIHJlcG9zaXRvcnkgYmVmb3JlIGRlcGxveW1lbnQnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGNvbW1hbmQ6ICd1c2VyJyxcbiAgICAgIGRlc2M6ICdtYW5hZ2UgdXNlciBhY2NvdW50cycsXG4gICAgICB1c2FnZVN0cjogJ3VzZXIgLWEgYWN0aW9uIC1uIGFjY291bnRuYW1lIC1wIC9wYXRoL3RvL2lkX3JzYS5wdWInLFxuICAgICAgZXhhbXBsZXM6IFtcbiAgICAgICAgeyBjbGk6ICd1c2VyIC1hIGNyZWF0ZSAtbiBmb28gLXAgfi8uc3NoL2lkX3JzYS5wdWInLCBkZXNjOiAnQ3JlYXRlcyBhbiBhY2NvdW50IG5hbWVkIFwiZm9vXCIsIGFkZGluZyB0aGUgcHVia2V5IGxvY2F0ZWQgYXQgfi8uc3NoL2lkX3JzYS5wdWIgdG8gdGhlIGxpc3Qgb2YgYWNjZXB0ZWQgcHVia2V5cy4nIH0sXG4gICAgICAgIHsgY2xpOiAndXNlciAtYSBhZGQtcHVia2V5IC1uIGZvbyAtcCB+Ly5zc2gvaWRfcnNhLnNlY29uZGFyeS5wdWInLCBkZXNjOiAnQWRkcyB0aGUga2V5IGxvY2F0ZWQgYXQgfi8uc3NoL2lkX3JzYS5zZWNvbmRhcnkucHViIHRvIHRoZSBsaXN0IG9mIGFjY2VwdGVkIHB1YmtleXMgZm9yIHRoZSB1c2VyIGFjY291bnQgXCJmb29cIi4nIH0sXG4gICAgICAgIHsgY2xpOiAndXNlciAtYSByZW1vdmUtcHVia2V5IC1uIGZvbyAtcCB+Ly5zc2gvaWRfcnNhLnNlY29uZGFyeS5wdWInLCBkZXNjOiAnUmVtb3ZlcyB0aGUga2V5IGxvY2F0ZWQgYXQgfi8uc3NoL2lkX3JzYS5zZWNvbmRhcnkucHViIGZyb20gdGhlIGxpc3Qgb2YgYWNjZXB0ZWQgcHVia2V5cyBmb3IgdGhlIHVzZXIgYWNjb3VudCBcImZvb1wiLicgfSxcbiAgICAgICAgeyBjbGk6ICd1c2VyIC1kIHJlbW92ZSAtbiBmb28nLCBkZXNjOiAnUmVtb3ZlcyB0aGUgdXNlciBhY2NvdW50IFwiZm9vXCIgYW5kIGFsbCBhc3NvY2lhdGVkIHB1YmtleXMgZnJvbSB0aGUgc2VydmVyLicgfVxuICAgICAgXSxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgYWNjb3VudG5hbWUsXG4gICAgICAgICdhY3Rpb24nOiB7XG4gICAgICAgICAgYWxpYXM6ICdhJyxcbiAgICAgICAgICBkZW1hbmQ6IHRydWUsXG4gICAgICAgICAgY2hvaWNlczogWyAnY3JlYXRlJywgJ2FkZC1wdWJrZXknLCAncmVtb3ZlLXB1YmtleScsICdyZW1vdmUnIF0sXG4gICAgICAgICAgZGVzY3JpYmU6ICdBY3Rpb24gdG8gdGFrZSdcbiAgICAgICAgfSxcbiAgICAgICAgJ3B1YmtleSc6IHtcbiAgICAgICAgICBhbGlhczogJ3AnLFxuICAgICAgICAgIGRlc2NyaWJlOiAnUGF0aCB0byBwdWJsaWMga2V5IGZpbGUgKHJlcXVpcmVkIHVubGVzcyByZW1vdmluZyBhIHVzZXIpLidcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgY29tbWFuZDogJ3VzZXItbGlzdCcsXG4gICAgICBkZXNjOiAnbGlzdCB1c2VyIGFjY291bnRzJyxcbiAgICAgIHVzYWdlU3RyOiAndXNlci1saXN0J1xuICAgIH0sXG4gICAge1xuICAgICAgY29tbWFuZDogJ3Blcm1pc3Npb24nLFxuICAgICAgZGVzYzogJ21hbmFnZSBwZXJtaXNzaW9ucycsXG4gICAgICB1c2FnZVN0cjogJ3Blcm1pc3Npb24gLWEgYXBwSWRlbnRpZmllciAtcCBwZXJtaXNzaW9uIC1uIHVzZXJuYW1lIC10IHRhcmdldHMnLFxuICAgICAgZXhhbXBsZXM6IFtcbiAgICAgICAgeyBjbGk6ICdwZXJtaXNzaW9uIC1uIGFkbWluIC1hIGFsbCAtdCBhbGwgLXAgZ3JhbnQnLCBkZXNjOiAnZ3JhbnQgcGVybWlzc2lvbiB0byBkZXBsb3kgYWxsIGFwcHMgb24gYWxsIHRhcmdldHMgdG8gdXNlciBhZG1pbicgfVxuICAgICAgXSxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgYWNjb3VudG5hbWUsXG4gICAgICAgICdjYXRlZ29yeSc6IHtcbiAgICAgICAgICBhbGlhczogJ2MnLFxuICAgICAgICAgIGRlbWFuZDogdHJ1ZSxcbiAgICAgICAgICBjaG9pY2VzOiBbXG4gICAgICAgICAgICBQRVJNSVNTSU9OX0NBVEVHT1JZX0RFUExPWSxcbiAgICAgICAgICAgIFBFUk1JU1NJT05fQ0FURUdPUllfUEVSTUlTU0lPTl9NQU5BR0VNRU5ULFxuICAgICAgICAgICAgUEVSTUlTU0lPTl9DQVRFR09SWV9VU0VSX0xJU1QsXG4gICAgICAgICAgICBQRVJNSVNTSU9OX0NBVEVHT1JZX1VTRVJfTUFOQUdFTUVOVFxuICAgICAgICAgIF0sXG4gICAgICAgICAgZGVzY3JpYmU6ICdQZXJtaXNzaW9uIGNhdGVnb3J5J1xuICAgICAgICB9LFxuICAgICAgICAnYXBwJzogT2JqZWN0LmFzc2lnbih7fSwgYXBwLCB7IGRlbWFuZDogZmFsc2UgfSksXG4gICAgICAgICd0YXJnZXRzJzogT2JqZWN0LmFzc2lnbih7fSwgdGFyZ2V0cywgeyBkZW1hbmQ6IGZhbHNlIH0pLFxuICAgICAgICAncGVybWlzc2lvbic6IHtcbiAgICAgICAgICBhbGlhczogJ3AnLFxuICAgICAgICAgIGRlbWFuZDogdHJ1ZSxcbiAgICAgICAgICBjaG9pY2VzOiBbIFBFUk1JU1NJT05fR1JBTlQsIFBFUk1JU1NJT05fREVOWSBdLFxuICAgICAgICAgIGRlc2NyaWJlOiAnZ3JhbnQgb3IgZGVueSBwZXJtaXNzaW9uIHRvIGRlcGxveSBzcGVjaWZpZWQgYXBwIHRvIHNlbGVjdGVkIHRhcmdldHMnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgIGNvbW1hbmQ6ICdpbmZvJyxcbiAgICAgIGRlc2M6ICdTaG93cyBpbmZvcm1hdGlvbiBhYm91dCBhdmFpbGFibGUgYXBwcywgdGFyZ2V0cyBhbmQgcGVybWlzc2lvbnMnXG4gICAgfVxuICBdXG5cbiAgcmV0dXJuIHtcbiAgICBnbG9iYWxPcHRpb25zLFxuICAgIGNvbW1hbmRzXG4gIH1cbn1cbiJdfQ==